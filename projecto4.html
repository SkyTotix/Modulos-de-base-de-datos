<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis de Base de Datos - Relaciones Recursivas y de Arco</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .entity {
            background-color: white;
            border: 2px solid #4a5568; /* slate-700 */
            border-radius: 0.5rem;
            padding: 0.75rem;
            position: absolute;
            width: 240px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 10;
        }
        .entity-title {
            font-weight: 700;
            color: #1e3a8a; /* blue-900 */
            text-align: center;
            border-bottom: 1px solid #cbd5e1; /* slate-300 */
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
        }
        .entity-attributes {
            font-size: 0.875rem;
            color: #334155; /* slate-700 */
        }
        .entity-attributes li {
            margin-bottom: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">

        <!-- Header -->
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-900">Oracle Baseball League (OBL) Store</h1>
            <p class="mt-2 text-lg text-gray-600">Análisis de Relaciones Recursivas y de Arco</p>
        </header>

        <!-- Main Content -->
        <main>
            <!-- Part 1: Recursive Relationships -->
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-800 mb-3">Parte 1: Relaciones Recursivas</h2>
                <p class="text-gray-700 mb-3">
                    Una <strong>relación recursiva</strong> (o unaria) es aquella que una entidad tiene consigo misma. Se utiliza para modelar jerarquías o estructuras donde una instancia de la entidad se relaciona con otra instancia de la misma entidad.
                </p>
                <div class="p-4 border border-gray-200 rounded-lg bg-gray-50">
                    <h3 class="font-semibold text-lg text-gray-900">Análisis del Escenario OBL</h3>
                    <p class="mt-2 text-gray-700">
                        Después de revisar detalladamente el escenario de la Oracle Baseball League, <strong>no se identifica ninguna relación recursiva.</strong>
                    </p>
                    <p class="mt-2 text-gray-700">
                        Para que existiera una, el texto debería describir una jerarquía dentro de una entidad. Por ejemplo:
                    </p>
                    <ul class="list-disc list-inside mt-2 text-gray-600 space-y-1">
                        <li>Si un <span class="font-mono bg-gray-200 px-1 rounded">SALES REPRESENTATIVE</span> pudiera ser "manager de" otro representante de ventas.</li>
                        <li>Si un <span class="font-mono bg-gray-200 px-1 rounded">ITEM</span> del inventario fuera un "componente de" otro ítem.</li>
                    </ul>
                    <p class="mt-2 text-gray-700">
                        Dado que el escenario no describe ninguna de estas situaciones, no se puede dibujar una relación recursiva en el diagrama ERD.
                    </p>
                </div>
            </div>

            <!-- Part 2: Arc Relationships -->
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-800 mb-3">Parte 2: Relaciones de Arco</h2>
                <p class="text-gray-700 mb-3">
                    Un <strong>arco</strong> es una forma de representar un grupo de relaciones mutuamente excluyentes. Indica que para cualquier instancia de una entidad, solo una de las relaciones dentro del arco puede estar activa. Es una alternativa al modelado de supertipos/subtipos para mostrar una especialización.
                </p>
                <div class="p-4 border border-gray-200 rounded-lg bg-gray-50">
                    <h3 class="font-semibold text-lg text-gray-900">Aplicación al Cliente OBL</h3>
                    <p class="mt-2 text-gray-700">
                        En el ejercicio anterior, modelamos <span class="font-mono bg-gray-200 px-1 rounded">CUSTOMER</span> con subtipos para <span class="font-mono bg-gray-200 px-1 rounded">INDIVIDUAL</span> y <span class="font-mono bg-gray-200 px-1 rounded">TEAM</span>. Usando un arco, podemos lograr el mismo resultado lógico: un <span class="font-mono bg-gray-200 px-1 rounded">CUSTOMER</span> es un individuo O representa a un equipo, pero no ambos.
                    </p>
                    <p class="mt-2 text-gray-700">
                        El siguiente diagrama muestra únicamente esta parte del modelo para ilustrar cómo se vería la entidad <span class="font-mono bg-gray-200 px-1 rounded">CUSTOMER</span> utilizando un arco.
                    </p>
                </div>
            </div>

            <!-- Arc ERD Diagram Card -->
            <div class="card">
                <h2 class="text-2xl font-semibold text-blue-800 mb-3">Diagrama ERD con Relación de Arco (Corregido)</h2>
                <div class="w-full overflow-x-auto bg-slate-50 p-8 rounded-lg border flex justify-center items-center">
                    <div class="relative h-[400px] w-full max-w-3xl">
                        <!-- SVG Layer for Connectors -->
                        <svg class="absolute top-0 left-0 w-full h-full" style="z-index: 1;">
                            <!-- Lines from Customer to the point where the arc starts -->
                            <line x1="240" y1="150" x2="300" y2="150" stroke="#4a5568" stroke-width="2"></line>
                            <line x1="240" y1="250" x2="300" y2="250" stroke="#4a5568" stroke-width="2"></line>
                            
                            <!-- The Arc itself, now more prominent -->
                            <path d="M 300 150 A 50 50, 0, 0, 0, 300 250" stroke="#dc2626" stroke-width="2.5" fill="none"></path>

                            <!-- Line from the arc relationship to the TEAM entity -->
                            <line x1="300" y1="250" x2="400" y2="250" stroke="#4a5568" stroke-width="2"></line>
                        </svg>

                        <!-- Entities -->
                        <div class="entity" style="top: 100px; left: 0px; height: 200px;">
                            <div class="entity-title">CUSTOMER</div>
                            <ul class="entity-attributes">
                                <li># Number</li>
                                <li>(#) Email</li>
                                <li>* Name</li>
                                <li>* Address</li>
                                <li>* Phone number</li>
                                <li>* Current balance</li>
                            </ul>
                        </div>
                        
                        <div class="entity" style="top: 170px; left: 400px; height: 160px;">
                            <div class="entity-title">TEAM</div>
                            <ul class="entity-attributes">
                                <li># Id</li>
                                <li>* Name</li>
                                <li>* Number of players</li>
                                <li>o Discount</li>
                            </ul>
                        </div>

                        <!-- Relationship Text -->
                        <div class="absolute text-sm bg-slate-50 px-1" style="top: 130px; left: 310px; z-index: 2;">es un individuo</div>
                        <div class="absolute text-sm bg-slate-50 px-1" style="top: 260px; left: 310px; z-index: 2;">representa</div>
                    </div>
                </div>
                <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <h4 class="font-semibold text-blue-900">Observaciones Clave en el Diagrama:</h4>
                    <ul class="list-disc list-inside mt-2 text-blue-800 space-y-1">
                        <li>La entidad <span class="font-mono bg-blue-100 px-1 rounded">CUSTOMER</span> tiene dos relaciones salientes.</li>
                        <li>La primera, "es un individuo", no se conecta a ninguna otra entidad, simplemente existe para la exclusividad.</li>
                        <li>La segunda, "representa", se conecta a la entidad <span class="font-mono bg-blue-100 px-1 rounded">TEAM</span>.</li>
                        <li>El <strong>arco rojo (la línea curva)</strong> que une ambas relaciones indica que solo una de ellas puede ser verdadera para cualquier cliente.</li>
                    </ul>
                </div>
            </div>

        </main>

        <!-- Footer -->
        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>Desarrollo de Bases de Datos - Propuesta para Oracle Baseball League</p>
            <p>&copy; 2024 Gemini Consulting Services</p>
        </footer>

    </div>

</body>
</html>
